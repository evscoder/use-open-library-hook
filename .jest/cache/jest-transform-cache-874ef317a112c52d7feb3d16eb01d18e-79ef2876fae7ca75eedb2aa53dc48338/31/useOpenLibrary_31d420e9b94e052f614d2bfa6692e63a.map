{"version":3,"names":["cov_1qd89351yq","actualCoverage","react_1","s","require","fetchIsOpenLibrary_1","__importDefault","useOpenLibrary","query","f","books","setBooks","useState","isLoading","setLoading","isError","setError","timeoutRef","useRef","fetchData","result","default","error","useEffect","b","trim","clearTimeout","current","setTimeout","exports"],"sources":["E:\\Projects\\react-use-hook\\src\\hooks\\useOpenLibrary.tsx"],"sourcesContent":["import {useEffect, useRef, useState} from \"react\";\r\nimport fetchIsOpenLibrary from \"../api/fetchIsOpenLibrary\";\r\n\r\nconst useOpenLibrary = (query: string) => {\r\n    const [books, setBooks] = useState([]);\r\n    const [isLoading, setLoading] = useState<boolean>(false);\r\n    const [isError, setError] = useState<boolean>(false);\r\n    const timeoutRef = useRef<any>(null);\r\n\r\n    const fetchData = async () => {\r\n        setLoading(true);\r\n        setError(false);\r\n\r\n        try {\r\n            const result = await fetchIsOpenLibrary(query);\r\n\r\n            setBooks(result);\r\n        } catch (error) {\r\n            setError(true);\r\n            // console.error(error);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        if (!query || query.trim() === '') {\r\n            setBooks([]);\r\n\r\n            return;\r\n        } else {\r\n            clearTimeout(timeoutRef.current);\r\n            timeoutRef.current = setTimeout(() => {\r\n                fetchData();\r\n            }, 500);\r\n        }\r\n\r\n        return () => {\r\n            clearTimeout(timeoutRef.current);\r\n        };\r\n    }, [query]);\r\n\r\n    return { books, isLoading, isError };\r\n};\r\n\r\nexport default useOpenLibrary;\r\n"],"mappings":"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"}